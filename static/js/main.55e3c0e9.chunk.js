(this["webpackJsonpgregtech6-nuclear-simulator"]=this["webpackJsonpgregtech6-nuclear-simulator"]||[]).push([[0],{571:function(e,t,a){e.exports=a(984)},576:function(e,t,a){},984:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(20),i=a.n(o),u=(a(576),a(22)),l=a(413),c=a(349),s=a(1023),m=a(1024),d=a(1025),f=a(421),h=a(37),g=a(541),p=a.n(g),b=a(1010),y=a(417),v=a(53),E=a(269),N=a.n(E),w=a(545),S=a.n(w),R=a(543),C=a.n(R),x=a(546),A=a.n(x),O=a(419),j=a(352),P=a(420),z=a(1017),T=a(1012),L=a(1016),k=a(1014),U=a(1015),H=a(1013),B=a(418),I=a(357),D=a(160),F={Lang:"\u7b80\u4f53\u4e2d\u6587",Title:"\u683c\u96f7\u79d1\u62806\u6838\u7535\u6a21\u62df\u5668",ChangeLanguage:"\u66f4\u6539\u8bed\u8a00",CreateReactor:"\u521b\u5efa\u53cd\u5e94\u5806",InputSize:"\u8f93\u5165\u5c3a\u5bf8",ReactorSize:"\u53cd\u5e94\u5806\u7684\u5927\u5c0f\uff1a",Length:"\u957f",Width:"\u5bbd",Rods:"\u71c3\u6599\u68d2",AddRods:"\u6dfb\u52a0\u71c3\u6599\u68d2",ReactorPreview:"\u53cd\u5e94\u5806\u9884\u89c8",ReactorSimulation:"\u53cd\u5e94\u5806\u6a21\u62df\u7ed3\u679c",ReactorRodList:"\u71c3\u6599\u68d2\u5217\u8868",RodType:"\u7c7b\u578b",X:"X",Y:"Y",Size:"\u5c3a\u5bf8",Size1By1:"1\xd71",Size2By2:"2\xd72",NoRecords:"\u6ca1\u6709\u71c3\u6599\u68d2",RodPositionCollided:"\u71c3\u6599\u68d2\u4f4d\u7f6e\u51b2\u7a81",RodPositionIllegal:"\u71c3\u6599\u68d2\u4f4d\u7f6e\u65e0\u6548",RodAdded:"\u5df2\u6dfb\u52a0\u71c3\u6599\u68d2",RodUpdated:"\u5df2\u66f4\u65b0\u71c3\u6599\u68d2",RodDeleted:"\u5df2\u5220\u9664\u71c3\u6599\u68d2",RodNotFound:"\u627e\u4e0d\u5230\u71c3\u6599\u68d2",AddRow:"\u6dfb\u52a0",EditRow:"\u7f16\u8f91",DeleteRow:"\u5220\u9664",DeleteRowConfirm:"\u786e\u8ba4\u5220\u9664\uff1f",CancelEdit:"\u53d6\u6d88",SaveEdit:"\u786e\u5b9a",SimulationBegin:"\u5f00\u59cb\u6a21\u62df",Next:"\u4e0b\u4e00\u6b65",Prev:"\u4e0a\u4e00\u6b65",Empty:"\u7a7a",Time:"\u65f6\u95f4(s)",Sec:"\u79d2",ControlPanel:"\u63a7\u5236\u9762\u677f",ShowContent:"\u5c55\u793a\u5185\u5bb9",HU:"HU",TotalHeat:"\u603b\u4ea7\u70ed\uff1a",Neutrons:"\u4e2d\u5b50",NeutronsCount:"\u4e2d\u5b50\u6570",Statistics:"\u7edf\u8ba1",HeatChart:"\u53cd\u5e94\u5806\u70ed\u91cf\u7edf\u8ba1\u56fe",Maxinum:"\u6700\u5927\u503c",CopyToClipboard:"\u590d\u5236\u65b9\u6848\u5230\u526a\u8d34\u677f",SolutionCopied:"\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f",PasteSolutionHere:"\u8bf7\u8f93\u5165\u65b9\u6848\u4ee3\u7801",SolutionCode:"\u65b9\u6848\u4ee3\u7801",SolutionLoaded:"\u5df2\u52a0\u8f7d\u89e3\u51b3\u65b9\u6848",SolutionCodeError:"\u89e3\u51b3\u65b9\u6848\u4ee3\u7801\u6709\u8bef",Cancel:"\u53d6\u6d88",Ok:"\u786e\u5b9a",LoadSolution:"\u52a0\u8f7d\u65b9\u6848",About:"\u5173\u4e8e",AboutAuthor:"\u4f5c\u8005\uff1a",AboutVersion:"\u7248\u672c",AboutGregVersion:"\u9002\u7528\u4e8e\u683c\u96f7\u7248\u672c\uff1a",AboutLicense:"\u7248\u6743\u6240\u6709 \xa9 2020",NeutronAbsorber:"\u4e2d\u5b50\u5438\u6536\u68d2",NeutronReflector:"\u4e2d\u5b50\u53cd\u5c04\u68d2",Thorium230:"\u948d-230",Cyanite:"\u84dd\u6676\u77f3",Uranium238:"\u94c0-238",Uranium235:"\u94c0-235",Yellorium:"\u9ec4\u94c0",Plutonium244:"\u949a-244",Plutonium241:"\u949a-241",Plutonium243:"\u949a-243",Blutonium:"\u84dd\u949a",Americium245:"\u9545-245",Americium241:"\u9545-241",Ludicrite:"\u6ed1\u7a3d",Cobalt60:"\u94b4-60",EnrichedNaquadah:"\u6d53\u7f29\u7845\u5ca9\u91d1\u5c5e",Naquadria:"\u7845\u5ca9\u91d1\u5c5e\u5316\u5408\u7269"},M={"zh-Hans":F,en:{Lang:"English",Title:"GregTech6 Nuclear Simulator",ChangeLanguage:"Change Language",CreateReactor:"Create the reactor",InputSize:"Input the size",ReactorSize:"Size of the reactor\uff1a",Length:"Length",Width:"Width",Rods:"Rods",AddRods:"Add rods",ReactorPreview:"Reactor Preview",ReactorSimulation:"Reactor Simulation",ReactorRodList:"Rods list",RodType:"Type",X:"X",Y:"Y",Size:"Size",Size1By1:"1\xd71",Size2By2:"2\xd72",NoRecords:"No rods",RodPositionCollided:"Rods Collided",RodPositionIllegal:"The position of your rod is invalid",RodAdded:"Rod added",RodUpdated:"Rod updated",RodDeleted:"Rod deleted",RodNotFound:"Rod not found",AddRow:"Add",EditRow:"Edit",DeleteRow:"Delete",DeleteRowConfirm:"Confirm deletion?",CancelEdit:"Cancel",SaveEdit:"OK",SimulationBegin:"Start the simulation",Next:"Next",Prev:"Prev",Empty:"Empty",Time:"Time(s)",Sec:"s",ControlPanel:"Control Panel",ShowContent:"Displaying",HU:"HU",TotalHeat:"Total heat generated: ",Neutrons:"Neutrons",NeutronsCount:"Number of Neutrons",Statistics:"Statistics",HeatChart:"Chart of Heat Generation",Maxinum:"Maxinum",CopyToClipboard:"Copy the solution to clipboard",SolutionCopied:"Solution copied",PasteSolutionHere:"Please input the code of your solution: ",SolutionCode:"Code of your solution",SolutionLoaded:"Solution loaded",SolutionCodeError:"Wrong code",Cancel:"Cancel",Ok:"OK",LoadSolution:"Load your solution",About:"About",AboutAuthor:"Author: ",AboutVersion:"Version",AboutGregVersion:"Based on GregTech6 version: ",AboutLicense:"Copyright \xa9 2020",NeutronAbsorber:"Neutron Absorber",NeutronReflector:"Neutron Reflector",Thorium230:"Thorium-230",Cyanite:"Cyanite",Uranium238:"Uranium-238",Uranium235:"Uranium-235",Yellorium:"Yellorium",Plutonium244:"Plutonium-244",Plutonium241:"Plutonium-241",Plutonium243:"Plutonium-243",Blutonium:"Blutonium",Americium245:"Americium-245",Americium241:"Americium-241",Ludicrite:"Ludicrite",Cobalt60:"Cobalt-60",EnrichedNaquadah:"Enriched Naquadah",Naquadria:"Naquadria"}},W=F;function q(){var e=Object(h.d)((function(e){return e.language}));return function(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zh-Hans",a=M[t];a||(a=W);var r=a[e];return r||(r=W[e]),r||e}(t,e.language)}}var G,V=a(25),Y=a(46),X=a(36);!function(e){e[e.Empty=9201]="Empty",e[e.NeutronAbsorber=9202]="NeutronAbsorber",e[e.NeutronReflector=9203]="NeutronReflector",e[e.Thorium230=9210]="Thorium230",e[e.Uranium238=9220]="Uranium238",e[e.Uranium235=9221]="Uranium235",e[e.Plutonium244=9230]="Plutonium244",e[e.Plutonium241=9231]="Plutonium241",e[e.Plutonium243=9232]="Plutonium243",e[e.Americium245=9240]="Americium245",e[e.Americium241=9241]="Americium241",e[e.Cobalt60=9250]="Cobalt60",e[e.EnrichedNaquadah=9260]="EnrichedNaquadah",e[e.Naquadria=9261]="Naquadria"}(G||(G={}));var J,K=Object.keys(G).filter((function(e){return!isNaN(Number(e))})).map((function(e){return Number(e)})),$=new Map([[G.Empty,"#999999"],[G.NeutronAbsorber,"#646480"],[G.NeutronReflector,"#192D19"],[G.Thorium230,"#001E00"],[G.Uranium238,"#24AB24"],[G.Uranium235,"#58DF58"],[G.Plutonium244,"#F03232"],[G.Plutonium241,"#F26B6B"],[G.Plutonium243,"#F0C3C3"],[G.Americium245,"#8F8F8F"],[G.Americium241,"#3D4D4D"],[G.Cobalt60,"#5A5AFE"],[G.EnrichedNaquadah,"#5F5F5F"],[G.Naquadria,"#3B3B3B"]]),_=new Map([[G.Empty,1/0],[G.NeutronAbsorber,1/0],[G.NeutronReflector,1/0],[G.Thorium230,6e6],[G.Uranium238,3e6],[G.Uranium235,6e5],[G.Plutonium244,6e5],[G.Plutonium241,6e5],[G.Plutonium243,6e5],[G.Americium245,6e5],[G.Americium241,6e5],[G.Cobalt60,3e6],[G.EnrichedNaquadah,6e6],[G.Naquadria,6e6]]),Q=new Map([[G.Empty,0],[G.NeutronAbsorber,0],[G.NeutronReflector,0],[G.Thorium230,8],[G.Uranium238,16],[G.Uranium235,128],[G.Plutonium244,256],[G.Plutonium241,512],[G.Plutonium243,512],[G.Americium245,256],[G.Americium241,512],[G.Cobalt60,8],[G.EnrichedNaquadah,512],[G.Naquadria,2048]]),Z=Q,ee=new Map([[G.Empty,NaN],[G.NeutronAbsorber,NaN],[G.NeutronReflector,NaN],[G.Thorium230,64],[G.Uranium238,32],[G.Uranium235,8],[G.Plutonium244,8],[G.Plutonium241,6],[G.Plutonium243,6],[G.Americium245,8],[G.Americium241,6],[G.Cobalt60,32],[G.EnrichedNaquadah,8],[G.Naquadria,6]]);!function(e){e.IC2Coolant="IC2Coolant",e.DistilledWater="DistilledWater"}(J||(J={}));var te,ae,re=function(e,t){return Math.floor(e/t)+(e%t?1:0)},ne=function(e,t,a){return Array.from({length:e},(function(){return Array.from({length:t},(function(){return a}))}))},oe=function(e,t){return e.every((function(e,a){return e===t[a]}))},ie=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(Y.a)(this,e),this.length=t,this.width=a,this.rods=r}return Object(X.a)(e,[{key:"getHeatMap",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,a=new Map,r=new Map,n=new Map,o=this.rods.map((function(e){return _.get(Number(e.type))||-1})),i=ne(this.length,this.width,-1),u=0;u<this.rods.length;u++){var l=this.rods[u];i[l.x][l.y]=u,1!==Number(l.size)&&(i[l.x+1][l.y]=u,i[l.x][l.y+1]=u,i[l.x+1][l.y+1]=u)}for(var c=function(t){for(var a={totalNeutrons:Array(e.rods.length).fill(0),receivedNeutrons:Array(e.rods.length).fill(0),energyGenerated:Array(e.rods.length).fill(0),durabilityCost:Array(e.rods.length).fill(0)},r=0;r<e.rods.length;r++)if(!(o[r]<=0)){var n=e.rods[r],u=Q.get(Number(n.type));u&&u>0&&(a.totalNeutrons[r]+=u,a.energyGenerated[r]+=u);var l=Z.get(Number(n.type));if(l&&l>0){var c=ee.get(Number(n.type));c&&c>0&&(l+=re(t[r],c)),2===n.size&&(l=re(l,2)),a.durabilityCost[r]=1;for(var s=1===n.size?[0,0,-1,1]:[0,0,1,1,-1,2,-1,2],m=1===n.size?[-1,1,0,0]:[-1,2,-1,2,0,0,1,1],d=0;d<s.length;d++){var f=n.x+s[d],h=n.y+m[d];if(!(f<0||f>=e.length||h<0||h>=e.width)){var g=i[f][h];if(-1!==g){var p=e.rods[g];switch(Number(p.type)){case G.Empty:break;case G.NeutronAbsorber:a.totalNeutrons[g]+=l,a.receivedNeutrons[g]+=l,a.energyGenerated[g]+=2*l;break;case G.NeutronReflector:a.totalNeutrons[r]+=l,a.receivedNeutrons[r]+=l,a.energyGenerated[r]+=l;break;default:a.totalNeutrons[g]+=l,a.receivedNeutrons[g]+=l,a.energyGenerated[g]+=l}}}}}}return a},s=function(e,t){if(t&&t<=0)return 0;var a=Math.min.apply(Math,Object(V.a)(o.map((function(t,a){return 0!==e[a]?Math.floor(t/e[a]):1/0}))));return t&&(a=Math.min(a,t)),a>0&&o.forEach((function(t,r){o[r]-=a*e[r]})),a},m=0,d=0;m<=t;m++)if(0===m)a.set(m,Array(this.rods.length).fill(0)),r.set(m,Array(this.rods.length).fill(0)),n.set(m,Array(this.rods.length).fill(0));else{for(var f=0;f<this.rods.length;f++)o[f]>0&&o[f]--;var h=a.get(d),g=r.get(d),p=n.get(d);if(!h||!g||!p)throw new Error("Previous time not exist!");var b=c(g);if(m!==t&&oe(h,b.totalNeutrons)&&oe(g,b.receivedNeutrons)&&oe(p,b.energyGenerated)){var y=s(b.durabilityCost,t-m-1);if(y===1/0)break;m+=y}else d=m,a.set(m,b.totalNeutrons),r.set(m,b.receivedNeutrons),n.set(m,b.energyGenerated)}return{current:a,recieved:r,energy:n}}},{key:"getVisualMap",value:function(){for(var e=new Array,t=0;t<this.rods.length;t++){var a=this.rods[t];if(1===Number(a.size))e.push({x:Number(a.x),y:Number(a.y),type:a.type,heat:0,rodSize:1,isFirst:!0});else for(var r=0;r<4;r++)e.push({x:Number(a.x+r%2),y:Number(a.y+(r>>1)),type:a.type,heat:0,rodSize:2,isFirst:0===r})}return e}}]),e}();!function(e){e.SetLength="SetLength",e.SetWidth="SetWidth",e.SetRods="SetRods"}(te||(te={})),function(e){e.SetLanguage="SetLanguage"}(ae||(ae={}));var ue,le=Object(l.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},select:{alignItems:"center",marginRight:e.spacing(2),color:"white"},selectIcon:{color:"white"},selectInputRoot:{alignItems:"center"},translateIcon:{marginRight:e.spacing(2),color:"white"},toolbar:{alignItems:"center"}}})),ce=function(){var e=le(),t=Object(h.c)(),a=q(),r=Object(D.useSnackbar)().enqueueSnackbar,o=Object(h.d)((function(e){return e.reactor})),i=Object(h.d)((function(e){return e.language})),l=n.a.useState(""),c=Object(u.a)(l,2),s=c[0],m=c[1],d=n.a.useState(!1),g=Object(u.a)(d,2),E=g[0],w=g[1],R=n.a.useState(!1),x=Object(u.a)(R,2),F=x[0],M=x[1],W=function(){M(!1)},V=function(){w(!1)};return n.a.createElement("div",{className:e.root},n.a.createElement(b.a,{position:"static"},n.a.createElement(y.a,{className:e.toolbar},n.a.createElement(v.a,{className:e.title,variant:"h6"},a("Title")),n.a.createElement(I.a,{autoWidth:!0,className:e.select,defaultValue:"zh-Hans",disableUnderline:!0,inputProps:{classes:{root:e.selectInputRoot,icon:e.selectIcon}},onChange:function(e){t({type:ae.SetLanguage,language:e.target.value})},startAdornment:n.a.createElement(C.a,{className:e.translateIcon}),value:i.language},n.a.createElement(B.a,{value:"zh-Hans"},"\u7b80\u4f53\u4e2d\u6587"),n.a.createElement(B.a,{value:"en"},"English")),n.a.createElement(p.a,{component:"div",onSuccess:function(){r(a("SolutionCopied"),{variant:"success"})},"option-text":function(){return JSON.stringify([o.length,o.width,o.rods.map((function(e){return[e.x,e.y,Number(e.type),e.size]}))])}},n.a.createElement(O.a,{title:a("CopyToClipboard")},n.a.createElement(j.a,{className:e.menuButton,color:"inherit",edge:"start"},n.a.createElement(N.a,null)))),n.a.createElement(O.a,{title:a("LoadSolution")},n.a.createElement(j.a,{className:e.menuButton,color:"inherit",edge:"start",onClick:function(){w(!0)}},n.a.createElement(S.a,null))),n.a.createElement(O.a,{title:a("About")},n.a.createElement(j.a,{className:e.menuButton,color:"inherit",edge:"start",onClick:function(){M(!0)}},n.a.createElement(A.a,null)))),n.a.createElement(T.a,{fullWidth:!0,maxWidth:"sm",onClose:V,open:E},n.a.createElement(H.a,null,a("LoadSolution")),n.a.createElement(k.a,null,n.a.createElement(U.a,null,a("PasteSolutionHere")),n.a.createElement(P.a,{autoFocus:!0,fullWidth:!0,label:a("SolutionCode"),margin:"dense",multiline:!0,onChange:function(e){m(e.target.value)},rows:"6",value:s,variant:"outlined"})),n.a.createElement(L.a,null,n.a.createElement(f.a,{color:"primary",onClick:V},a("Cancel")),n.a.createElement(f.a,{color:"primary",onClick:function(){try{var e=JSON.parse(s);if(!Array.isArray(e))throw Error("Not valid solution");if(e.length<3)throw Error("Not valid solution");var n=e[0],o=e[1],i=e[2];if(!Number.isInteger(n)||n<0)throw Error("Not valid solution");if(!Number.isInteger(o)||o<0)throw Error("Not valid solution");if(!Array.isArray(i))throw Error("Not valid solution");i.forEach((function(e){if(!Array.isArray(e))throw Error("Not valid solution");if(!Number.isInteger(e[0])||e[0]<0)throw Error("Not valid solution");if(!Number.isInteger(e[1])||e[1]<0)throw Error("Not valid solution");if(!Number.isInteger(e[2])||!(e[2]in G))throw Error("Not valid solution");if(1!==e[3]&&2!==e[3])throw Error("Not valid solution")})),t({type:te.SetLength,length:Number(n)}),t({type:te.SetWidth,width:Number(o)}),t({type:te.SetRods,rods:i.map((function(e){return{x:e[0],y:e[1],type:e[2],size:e[3]}}))})}catch(u){return void r(a("SolutionCodeError"),{variant:"warning"})}r(a("SolutionLoaded"),{variant:"success"}),w(!1)}},a("Ok")))),n.a.createElement(T.a,{fullWidth:!0,maxWidth:"sm",onClose:W,open:F},n.a.createElement(H.a,null,a("Title")+" ","v1.0.0"),n.a.createElement(k.a,null,n.a.createElement(U.a,null,a("AboutGregVersion"),"v6.12.02 ",n.a.createElement("br",null),a("AboutLicense")+" ",n.a.createElement(z.a,{href:"https://github.com/Tanimodori",rel:"noopener",target:"_blank"},"Tanimodori"))),n.a.createElement(L.a,null,n.a.createElement(f.a,{autoFocus:!0,color:"primary",onClick:W},a("Ok"))))))},se=a(1018),me=a(1019),de=a(1020),fe=function(e){var t=e.step,a=q();return n.a.createElement(se.a,{activeStep:t},["CreateReactor","AddRods","SimulationBegin"].map((function(e,r){var o={completed:r<t};return n.a.createElement(me.a,Object.assign({key:e},o),n.a.createElement(de.a,null,a(e)))})))},he=a(1021),ge=a(422),pe=Object(l.a)({title:{fontSize:14},control:{flex:1}}),be=function(){var e=pe(),t=Object(h.c)(),a=q(),r=Object(h.d)((function(e){return e.reactor})),o={inputProps:{min:2,step:2},endAdornment:n.a.createElement(ge.a,{position:"end"},a("Rods"))};return n.a.createElement(he.a,{alignItems:"baseline",container:!0,spacing:3},n.a.createElement(he.a,{container:!0,item:!0,lg:2,md:3,sm:4,xs:12},n.a.createElement(v.a,{className:e.title},a("ReactorSize"))),n.a.createElement(he.a,{container:!0,item:!0,xs:!0},n.a.createElement(P.a,{className:e.control,InputProps:o,label:a("Length"),onChange:function(e){t({type:te.SetLength,length:Number(e.target.value)})},type:"number",value:r.length})),n.a.createElement(he.a,{container:!0,item:!0,xs:!0},n.a.createElement(P.a,{className:e.control,InputProps:o,label:a("Width"),onChange:function(e){t({type:te.SetWidth,width:Number(e.target.value)})},type:"number",value:r.width})))},ye=a(270),ve=a.n(ye),Ee=a(547),Ne=a.n(Ee),we=Object.values($),Se=function(e){if(e)return{type:"piecewise",dimension:2,show:!1,pieces:Array.from($,(function(e){var t=Object(u.a)(e,2);return{value:t[0],color:t[1]}}))};return{type:"continuous",dimension:2,min:0,max:1e3,show:!0,calculable:!0,orient:"horizontal",left:"center",bottom:40}},Re=function(e,t,a){return e?t.map((function(e){return[e.x,e.y,e.type,a(G[e.type]),e.isFirst]})):t.map((function(e){return[e.x,e.y,e.heat,a(G[e.type]),e.isFirst]}))},Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e){var a={normal:{show:!0,formatter:function(e){return e.data[4]?e.data[3]:"("+e.data[3]+")"},textStyle:{color:"#ffffff"}}};return a}var r={normal:{show:!0,formatter:function(e){var a=e.data[3]+"\n"+e.data[2]+t;return e.data[4]?a:"("+e.data[3]+")"},textStyle:{color:"#ffffff"}}};return r},xe=function(e){var t=e.length,a=e.width,r=e.data,o=e.isPreview,i=void 0===o||o,u=e.suffix,c=void 0===u?"":u,s=Object(l.a)({ratio:{maxWidth:Math.max(400,200*t),marginTop:0,marginBottom:0,marginLeft:"auto",marginRight:"auto"}})(),m=q(),d={grid:{show:!0,top:20,bottom:100},xAxis:{type:"category",data:Array.from(Array(t).keys()),position:"top"},yAxis:{type:"category",data:Array.from(Array(a).keys()),inverse:!0},series:[{name:"Reactor",type:"heatmap",data:Re(i,r,m),label:Ce(i,c),emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}],tooltip:{position:"top"},animation:!1,color:we,visualMap:Se(i)};return n.a.createElement(Ne.a,{className:s.ratio,ratio:t/a},n.a.createElement(ve.a,{option:d,style:{minHeight:"400px",width:"100%",height:"100%",padding:0},theme:"light"}))},Ae=a(548),Oe=a.n(Ae),je=a(552),Pe=a.n(je),ze=a(561),Te=a.n(ze),Le=a(553),ke=a.n(Le),Ue=a(559),He=a.n(Ue),Be=a(361),Ie=a.n(Be),De=a(360),Fe=a.n(De),Me=a(554),We=a.n(Me),qe=a(555),Ge=a.n(qe),Ve=a(556),Ye=a.n(Ve),Xe=a(557),Je=a.n(Xe),Ke=a(558),$e=a.n(Ke),_e=a(562),Qe=a.n(_e),Ze=a(560),et=a.n(Ze),tt=a(563),at=a.n(tt),rt=Object(l.a)({input:{width:"100%"}}),nt={Add:Object(r.forwardRef)((function(e,t){return n.a.createElement(Pe.a,Object.assign({},e,{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return n.a.createElement(ke.a,Object.assign({},e,{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return n.a.createElement(Fe.a,Object.assign({},e,{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return n.a.createElement(We.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return n.a.createElement(Ie.a,Object.assign({},e,{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return n.a.createElement(Ge.a,Object.assign({},e,{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return n.a.createElement(N.a,Object.assign({},e,{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return n.a.createElement(Ye.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(Je.a,Object.assign({},e,{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return n.a.createElement($e.a,Object.assign({},e,{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(Ie.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(He.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return n.a.createElement(Fe.a,Object.assign({},e,{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return n.a.createElement(et.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return n.a.createElement(Te.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return n.a.createElement(Qe.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return n.a.createElement(at.a,Object.assign({},e,{ref:t}))}))},ot=function(e){e.x=Number(e.x),e.y=Number(e.y),e.size=Number(e.size),e.type=Number(e.type)},it=function(){var e=rt(),t=q(),a=Object(D.useSnackbar)().enqueueSnackbar,r=Object(h.c)(),o=Object(h.d)((function(e){return e.reactor})),i=o.rods,u=Object.fromEntries(K.map((function(e){return[e,t(G[e])]}))),l=function(e,t){return Number(e.x)===Number(t.x)&&Number(e.y)===Number(t.y)},c=function(e){return i.findIndex((function(t){return l(e,t)}))},s=function(e,t){return!(e.x>=t.x+t.size||t.x>=e.x+e.size)&&!(e.y>=t.y+t.size||t.y>=e.y+e.size)},m=function(e){return(2!==Number(e.size)||!(e.x%2||e.y%2))&&(e.x>=0&&e.x<o.length&&e.y>=0&&e.y<o.width)},d=function(t,a){return function(r){return n.a.createElement(P.a,{className:e.input,InputProps:{inputProps:{min:t,max:a}},onChange:function(e){return r.onChange(Number(e.target.value))},type:"number",value:r.value})}};return n.a.createElement(Oe.a,{columns:[{title:t("RodType"),field:"type",lookup:u,initialEditValue:G.Empty},{title:t("Size"),field:"size",lookup:{1:t("Size1By1"),2:t("Size2By2")},initialEditValue:1},{title:t("X"),field:"x",type:"numeric",initialEditValue:0,editComponent:d(0,o.length-1)},{title:t("Y"),field:"y",type:"numeric",initialEditValue:0,editComponent:d(0,o.width-1)}],data:i,editable:{onRowAdd:function(e){return ot(e),m(e)?i.some((function(t){return s(t,e)}))?(a(t("RodPositionCollided"),{variant:"warning"}),Promise.reject()):(i.push(e),r({type:te.SetRods,rods:i}),a(t("RodAdded"),{variant:"success"}),Promise.resolve()):(a(t("RodPositionIllegal"),{variant:"warning"}),Promise.reject())},onRowUpdate:function(e,n){if(ot(e),n&&ot(n),!n||!l(e,n)||Number(e.size)!==Number(n.size)){if(!m(e))return a(t("RodPositionIllegal"),{variant:"warning"}),Promise.reject();if(i.some((function(t){return(!n||!l(n,t))&&s(t,e)})))return a(t("RodPositionCollided"),{variant:"warning"}),Promise.reject()}var o=n?c(n):-1;return o<0?i.push(e):i[o]=e,r({type:te.SetRods,rods:i}),a(t("RodUpdated"),{variant:"success"}),Promise.resolve()},onRowDelete:function(e){ot(e);var n=e?c(e):-1;return n<0?(a(t("SimulationBegin"),{variant:"warning"}),Promise.reject()):(i.splice(n,1),r({type:te.SetRods,rods:i}),a(t("RodDeleted"),{variant:"success"}),Promise.resolve())}},icons:nt,localization:{header:{actions:""},body:{addTooltip:t("AddRow"),deleteTooltip:t("DeleteRow"),editTooltip:t("EditRow"),editRow:{cancelTooltip:t("CancelEdit"),saveTooltip:t("SaveEdit"),deleteText:t("DeleteRowConfirm")},emptyDataSourceMessage:t("NoRecords")}},options:{search:!1,paging:!1},title:t("ReactorRodList")})},ut=Object(l.a)({card:{flex:1,height:"100%",marginBottom:15}}),lt=function(){var e=Object(h.d)((function(e){return e.reactor})),t=new ie(e.length,e.width,e.rods).getVisualMap(),a=ut(),r=q();return n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a,{className:a.card},n.a.createElement(d.a,{title:r("ReactorPreview")}),n.a.createElement(m.a,null,n.a.createElement(xe,{data:t,isPreview:!0,length:e.length,width:e.width}))),n.a.createElement(it,null))},ct=a(1027),st=Object(l.a)({card:{flex:1,height:"100%",marginBottom:15},cardOthers:{marginBottom:15},cardContent:{justifyContent:"center"},slider:{width:"98%"},select:{width:"100%"}});!function(e){e.HU="HU",e.NeutronsCount="NeutronsCount"}(ue||(ue={}));var mt=function(){var e=st(),t=q(),a=n.a.useState(0),r=Object(u.a)(a,2),o=r[0],i=r[1],l=n.a.useState(ue.HU),c=Object(u.a)(l,2),f=c[0],g=c[1],p=Object(h.d)((function(e){return e.reactor})),b=n.a.useMemo((function(){return new ie(p.length,p.width,p.rods).getHeatMap()}),[p]),y=Array.from(b.current.keys()),E=y.findIndex((function(e){return e>=o}));void 0===E&&(E=y.length-1);var N,w=y[E]===o?o:y[E-1],S=b.energy.get(w)||[],R=b.current.get(w)||[];N=f===ue.HU?S:f===ue.NeutronsCount?R:[];var C=p.rods.reduce((function(e,t,a,r){if(1===t.size)return e.push({x:t.x,y:t.y,type:t.type,heat:N[a]||0,rodSize:t.size,isFirst:!0}),e;for(var n=0;n<=3;n++){var o=n%2===0&&n>>1===0;e.push({x:t.x+n%2,y:t.y+(n>>1),type:t.type,heat:N[a]||0,rodSize:t.size,isFirst:o})}return e}),Array());return n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a,{className:e.card},n.a.createElement(d.a,{title:t("ReactorSimulation")}),n.a.createElement(m.a,null,n.a.createElement(xe,{suffix:function(){switch(f){case ue.HU:return t("HU");case ue.NeutronsCount:return t("Neutrons");default:return""}}(),data:C,isPreview:!1,length:p.length,width:p.width}))),n.a.createElement(s.a,{className:e.cardOthers},n.a.createElement(d.a,{title:t("ControlPanel")}),n.a.createElement(m.a,{className:e.cardContent},n.a.createElement(he.a,{alignItems:"baseline",container:!0,spacing:3},n.a.createElement(he.a,{container:!0,item:!0,md:1,xs:2},n.a.createElement(v.a,null,t("ShowContent"))),n.a.createElement(he.a,{container:!0,item:!0,md:11,xs:10},n.a.createElement(I.a,{className:e.select,value:f,onChange:function(e){var t=e.target.value;Object.values(ue).includes(t)&&g(t)}},n.a.createElement(B.a,{value:ue.HU},t(ue.HU)),n.a.createElement(B.a,{value:ue.NeutronsCount},t(ue.NeutronsCount)))),n.a.createElement(he.a,{container:!0,item:!0,md:1,xs:2},n.a.createElement(v.a,null,t("Time"))),n.a.createElement(he.a,{container:!0,item:!0,md:11,xs:10},n.a.createElement(ct.a,{className:e.slider,marks:y.map((function(e,t){return{value:t,label:e.toLocaleString()}})),max:y.length-1,min:0,onChange:function(e,t){"number"===typeof t&&i(y[t])},step:null,value:o}))))),n.a.createElement(s.a,null,n.a.createElement(d.a,{title:t("Statistics")}),n.a.createElement(m.a,null,n.a.createElement(dt,{keys:y,values:y.map((function(e){var t=b.energy.get(e);return t?t.reduce((function(e,t){return e+t}),0):0}))}))))},dt=function(e){var t=e.keys,a=e.values,r=q(),o={color:["#C23531"],title:{left:"center",text:r("HeatChart")},xAxis:{name:r("Time"),nameTextStyle:{fontSize:12},axisLabel:{fontSize:12,margin:15},type:"category",boundaryGap:!1,data:t.map((function(e){return e.toLocaleString()}))},yAxis:{name:r("HU"),nameTextStyle:{fontSize:12},axisLabel:{fontSize:12,margin:15},type:"value"},tooltip:{show:!0,formatter:"{c}"+r("HU")+"@{b}"+r("Sec")},series:[{data:a,type:"line",areaStyle:{},symbolSize:16,markPoint:{data:[{type:"max",name:r("Maxinum")}],tooltip:{formatter:"{b}: {c}"+r("HU")}}}],graphic:{type:"text",z:100,left:"center",top:"bottom",style:{fill:"#333",text:[r("TotalHeat")+a.reduce((function(e,r,n){return e+(n===a.length-1?0:r*(t[n+1]-t[n]))}),0).toLocaleString()+r("HU")],font:"20px"}}};return n.a.createElement(ve.a,{option:o,style:{minHeight:"400px",width:"100%",height:"100%",padding:0},theme:"light"})},ft=Object(l.a)({app:{flex:1},content:{width:"80%"},button:{width:"100%"},card:{flex:1,height:"100%",marginBottom:15},cardSmall:{}});var ht=function(){var e=ft(),t=q(),a=n.a.useState(0),r=Object(u.a)(a,2),o=r[0],i=r[1];return n.a.createElement("div",{className:e.app},n.a.createElement(ce,null),n.a.createElement(c.a,{display:"flex",flexDirection:"row",justifyContent:"center"},n.a.createElement(c.a,{className:e.content,display:"flex",flexDirection:"column"},n.a.createElement(fe,{step:o}),0===o?function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.card;return n.a.createElement(s.a,{className:r},a&&n.a.createElement(d.a,{title:a}),n.a.createElement(m.a,null,t))}(n.a.createElement(be,null),t("InputSize")):1===o?n.a.createElement(lt,null):n.a.createElement(mt,null),function(){var a=n.a.createElement(f.a,{className:e.button,onClick:function(){i(o-1)},variant:"contained"},t("Prev")),r=n.a.createElement(f.a,{className:e.button,color:"primary",onClick:function(){i(o+1)},variant:"contained"},t("Next"));return n.a.createElement(c.a,{display:"flex"},o>0&&n.a.createElement(c.a,{flexGrow:1,mb:3,ml:0,mr:1===o?2:0,mt:3},a),o<2&&n.a.createElement(c.a,{flexGrow:1,mb:3,ml:1===o?2:0,mr:0,mt:3},r))}())))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var gt=a(69),pt=a(170),bt={length:2,width:2,rods:[]};var yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.SetLength:return Object(pt.a)({},e,{length:t.length||2});case te.SetWidth:return Object(pt.a)({},e,{width:t.width||2});case te.SetRods:return Object(pt.a)({},e,{rods:t.rods||[]});default:return e}},vt={language:"zh-Hans"};var Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.SetLanguage:return Object(pt.a)({},e,{language:t.language});default:return e}},Nt=Object(gt.combineReducers)({reactor:yt,language:Et}),wt=a(362),St=a.n(wt),Rt=a(355),Ct=a.n(Rt),xt=a(564),At=a.n(xt);var Ot=function(){var e=Object(wt.mergePersistedState)()(Nt),t=At()(["reactor","language"])(Ct()(window.localStorage)),a=St()(t,"gt6-nuclear");return Object(gt.createStore)(e,a)}();i.a.render(n.a.createElement(h.a,{store:Ot},n.a.createElement(D.SnackbarProvider,{anchorOrigin:{vertical:"bottom",horizontal:"center"},preventDuplicate:!0},n.a.createElement(ht,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[571,1,2]]]);
//# sourceMappingURL=main.55e3c0e9.chunk.js.map